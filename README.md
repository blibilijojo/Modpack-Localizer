# Modpack Localizer Pro (整合包汉化工坊)

🌎 **简介**

Modpack Localizer Pro 是一款专业的 Minecraft 整合包汉化工作台，专为整合包作者和汉化者设计。它结合了智能 AI 翻译、丰富的社区资源整合以及精细的手动校对功能，提供从一键自动化翻译到完整项目管理的全流程本地化解决方案。无论是处理单个模组还是大型整合包，无论是模组文本还是复杂的任务系统，都能轻松应对。

<details open>
<summary>📸 核心功能展示</summary>

<div align="center">

| 交互式翻译工作台 | 社区词典查询 |
| :---: | :---: |
| 专业的三栏式布局，方便您按模组对上千条文本进行高效的审查、编辑和校对。 | 强大的原文/译文双向模糊搜索，快速找到您需要的参考翻译。 |
| 【此处需添加：交互式翻译工作台界面截图，展示三栏式布局和翻译功能】 | 【此处需添加：社区词典查询界面截图，展示搜索功能和结果展示】 |

| 专业任务汉化 | 灵活的资源包设置 |
| :---: | :---: |
| 自动检测并处理 FTB Quests 和 Better Questing 任务文件，实现无损汉化。 | 通过预案系统和动态占位符，轻松管理和生成满足不同需求的资源包。 |
| 【此处需添加：任务汉化界面截图，展示任务文件处理功能】 | 【此处需添加：资源包设置界面截图，展示预案管理和动态占位符功能】 |

</div>

</details>

✨ **详细特性**

*   **多标签页项目管理**:
    *   支持同时打开多个汉化项目，可在不同项目间自由切换
    *   自动保存会话状态，下次启动时恢复未关闭的标签页
    *   每个项目标签页独立管理，互不干扰

*   **双工作流设计**:
    *   **模组汉化**: 传统模式，扫描所有模组，生成一个完整的汉化资源包
    *   **任务汉化**: 专业模式，专门处理 **FTB Quests (.snbt)** 和 **Better Questing (.json)** 的任务文件，实现无损汉化并自动生成语言文件

*   **智能翻译决策引擎**:
    *   自动按 **个人词典 > 模组自带 > 第三方汉化包 > 社区词典** 的优先级顺序填充译文
    *   最大限度地利用高质量的人工翻译资源，减少重复工作

*   **强大的交互式翻译工作台**:
    *   提供“主-从-编辑器”三栏式专业布局，操作直观高效
    *   **一键 AI 翻译**，快速为所有未翻译条目填充内容
    *   支持**项目存读档 (`.sav`)**，随时保存和恢复您的工作进度
    *   内置**撤销/重做**功能，放心大胆地进行修改
    *   便捷的快捷键（`Enter` / `Ctrl+Enter`）支持，实现条目间的快速跳转
    *   实时统计翻译进度，清晰展示翻译完成情况

*   **全面的词典支持**:
    *   **个人词典**: 可随时将满意的翻译存入个人词典，实现知识的积累与复用，拥有最高匹配优先级
    *   **社区词典**: 支持加载社区维护的 `Dict-Sqlite.db` 词典文件，并提供独立的图形化查询工具
    *   内置词典编辑器，方便管理和维护个人词典

*   **灵活的资源包生成**:
    *   支持为不同 Minecraft 版本生成对应的 `pack_format`
    *   通过**动态占位符**（如 `{timestamp}`, `{ai_count}`, `{human_percent}`）自动生成包含统计信息的简介和文件名
    *   强大的**预案管理系统**，允许您保存多套资源包配置方案
    *   支持直接生成 ZIP 文件或文件夹形式的资源包

*   **稳健的 AI 服务**:
    *   集成 Google Gemini API，提供高质量的翻译
    *   支持**多密钥轮换**和**自动冷却机制**，有效应对 API 速率限制
    *   可自定义 Prompt、模型、并发线程数等高级参数

*   **便捷的全局工具**:
    *   图形化的**个人词典编辑器**，支持词条的添加、编辑和删除
    *   **自动更新检查**，始终保持程序最新
    *   专业详细的日志系统 (`ModpackLocalizer.log`)，便于排查问题
    *   全局查找替换功能，支持正则表达式

*   **友好的用户界面**:
    *   采用现代化的 ttkbootstrap 主题，界面美观易用
    *   完善的状态栏和日志系统，实时显示程序状态
    *   支持窗口大小调整和最小化到托盘
    *   详细的操作提示和帮助信息

🚀 **如何使用**

### 安装与配置

1.  从 **[Releases (发行版) 页面](https://github.com/blibilijojo/Modpack-Localizer/releases/latest)** 下载最新的 `Modpack-Localizer-Pro-vX.X.X.exe` 文件
2.  程序为单文件绿色版，双击即可运行
3.  首次运行时，在 **设置 > AI 服务** 中填入您的 Google Gemini API 密钥（支持每行一个，填入多个）

### 工作流选择

程序支持两种主要的汉化工作流，您可以根据需求选择：

#### A) 模组汉化流程

1.  在主界面选择 **模组汉化** 选项
2.  设置您的 `Mods 文件夹` 和 `输出文件夹`
3.  点击 **"开始处理"** 按钮，程序将扫描所有模组并提取文本
4.  在弹出的**翻译工作台**中完成翻译和校对
5.  点击工作台右下角的 **"完成并生成资源包"**
6.  在弹出的对话框中选择一个**生成预案**，即可在输出文件夹中找到您的汉化包

#### B) 任务汉化流程

1.  在主界面选择 **任务汉化** 选项
2.  设置一个简短的英文**整合包名称**
3.  点击 **"浏览..."**，选择您的 `.minecraft` 实例文件夹
4.  程序会自动发现任务文件，点击 **"开始处理"** 提取文本
5.  在弹出的**翻译工作台**中完成翻译和校对
6.  点击工作台右下角的 **"完成"**，程序会自动汉化并覆盖原任务文件（同时创建备份），并生成所需的语言文件

### 高级功能

*   **项目存读档**: 在翻译工作台中，您可以随时保存当前项目为 `.sav` 文件，方便后续继续编辑
*   **AI 辅助翻译**: 在翻译工作台中，点击 **"工具 > AI 翻译所有待译项"** 即可使用 AI 批量翻译未翻译的文本
*   **词典管理**: 在主菜单 **"工具 > 编辑个人词典"** 中可以管理您的个人词典
*   **查找替换**: 使用快捷键 `Ctrl+F` 或点击 **"编辑 > 查找和替换"** 打开查找替换对话框

❤️ **鸣谢与版权**

本项目的实现离不开以下优秀开源项目和社区提供的宝贵数据资源，在此表示衷心的感谢！

*   **[Minecraft-Mod-Language-Package](https://github.com/CFPAOrg/Minecraft-Mod-Language-Package)** by CFPAOrg
    *   该项目是社区词典数据的核心数据来源。它收集并维护了海量高质量的模组汉化文件，为本工具的词典功能提供了坚实的数据基础。
*   **[i18n-Dict-Extender](https://github.com/VM-Chinese-translate-group/i18n-Dict-Extender)** by VM-Chinese-translate-group
    *   该项目是一个强大的词典聚合应用，它将来自多个社区（如 CFPA）的翻译成果高效地编译成本项目所使用的 `Dict-Sqlite.db` 数据库格式。
    *   **版权声明**: 本项目使用的社区词典数据 `Dict-Sqlite.db` 源自于 `i18n-Dict-Extender` 项目的构建产物。根据其上游声明，该数据遵循 **[CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/)** 协议。

📄 **许可证**

本项目自身的源代码采用 **[MIT 许可证](LICENSE)** 授权。

🔧 **技术栈**

*   开发语言: Python 3
*   GUI 框架: tkinter + ttkbootstrap
*   AI 翻译: Google Gemini API
*   项目管理: JSON 配置和项目文件
*   资源处理: Python 标准库 + 第三方依赖

### 项目结构

```
Modpack-Localizer/
├── core/             # 核心功能模块
│   ├── data_aggregator.py  # 数据聚合器
│   ├── decision_engine.py  # 翻译决策引擎
│   ├── orchestrator.py     # 工作流协调器
│   ├── pack_builder.py     # 资源包生成器
│   └── quest_converter.py  # 任务文件转换器
├── gui/              # 图形用户界面
│   ├── main_window.py      # 主窗口
│   ├── translation_workbench.py  # 翻译工作台
│   ├── tab_settings_unified.py   # 统一设置面板
│   └── custom_widgets.py   # 自定义组件
├── services/         # 外部服务
│   └── ai_translator.py  # AI翻译服务 (兼容OpenAI格式)
├── utils/            # 工具函数
│   ├── config_manager.py   # 配置管理
│   ├── dictionary_searcher.py  # 词典搜索
│   └── update_checker.py   # 更新检查
├── main.py           # 程序入口
├── README.md         # 项目说明
├── requirements.txt  # 依赖列表
└── _version.py       # 版本信息
```

🤝 **贡献指南**

欢迎提交 Issue 和 Pull Request！如果您有任何建议或发现了 bug，请到 GitHub 仓库提交。

📧 **联系方式**

如果您有任何问题或建议，可以通过以下方式联系我们：

*   GitHub Issues: https://github.com/blibilijojo/Modpack-Localizer/issues
*   项目主页: https://github.com/blibilijojo/Modpack-Localizer

---

**Modpack Localizer Pro** - 让 Minecraft 整合包汉化更简单、更高效！
